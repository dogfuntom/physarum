let e,t,o,a,f,i;tokenData.hash="0x19983dc66d38fbcd2444401326a327a2da8f37687f0e87a829b2c78283831e0b";let r=Math,l=e=>e[0].map(((t,o)=>e.slice().reverse().map((e=>e[o]))));const s=0,n=3,c=4,y=5,m=6,b=7,x=30;let d,u,A,p,z,h,g,k,D,v,M,$,E,T,w,B,N,F,I=.95532,q=()=>{e=Uint32Array.from([0,1,t=a=2,3].map((e=>parseInt(tokenData.hash.substr(8*e+2,8),16)))),o=()=>(a=e[3],e[3]=e[2],e[2]=e[1],e[1]=t=e[0],a^=a<<11,e[0]^=a^a>>>8^t>>>19,e[0]/2**32),f=(e,t)=>e[e.length*o()**(t||1)|0],i=e=>e.sort((()=>o()-.5)),w=[],N=1e-6,M={t:o()**4*2|0,o:o()**8*2|0,i:0,l:5*(1-o()**.3)|0,m:0,u:0,A:0,p:0,h:0,g:f([2,1],.5),k:(3*o()|0)-1},d=3.1415*(M.t-.5)/2-3.1415;let r=[{D:8+2*o()|0,v:30,M:5,$:8,T:0},{D:8+2*o()|0,v:30,M:3,$:8,T:o()**4*8},{D:4,v:3+4*o()|0,M:0,$:1,T:1},{D:6+4*o()|0,v:10+20*o()|0,M:2,$:6,T:2*o()},{D:6+(0|o()),v:10+10*o()|0,M:0,$:4,T:o()**2*3}];M.m=o()**.3*r.length|0,({D:h,v:g,M:k,$:D,T:v}=r[M.m]),numberOfBlockTypes=2+2*o()|0,T=[],M.i=o()**.5*8|0,B="dddddd888888555555222222aaaaaaf26b21fbb04099ca3c208b3afcec529b5de5f15bb500bbf900f5d4fee440f1faeea8dadc457b9d1d3557e6394650514ff25f5c247ba070c1b3ffe066541388d90368f1e9da2e294effd4001f20414b3f72119da419647effc857540d6eee4266f3fcf01f271bffd23fe4572e29335ca8c686669bbcf3a712".match(/(.{30})/g).map((e=>e.match(/(.{6})/g).map((e=>"#"+e))))[M.i];let l=B.pop();B=i(B),B.push(l),2==M.l&&(B=B.slice(0,2))};function S(){let e=i([{size:[2,1,2],B:[[0,1],[0,1]],type:n},{size:[2,1,2],N:[[0,1],[0,1]],type:c},{size:[2,1,4],type:s},{size:[2,1,3],type:s},{size:[1,1,6],type:s},{size:[1,2,3],N:[[1,0,1]],type:y},{size:[1,1,3],type:s},{size:[2,1,2],type:s},{size:[1,1,1],type:s},{size:[1,2,1],type:s}].filter((e=>e.size[2]<h))).slice(0,numberOfBlockTypes),t=i([{size:[1,4,1],B:[[0]],type:6},{size:[1,.5,1],B:[[0]],type:7}]);$=Array(h).fill().map((()=>Array(h).fill(0))),E=Array(h).fill().map((()=>Array(h).fill(0)));for(let a=0;a<g;a++){let i,s,n,c=0,y=-9e9,m=0,b=f(e);a>=g-v&&4!=M.l&&(b=f(t,.7),k=6,D=6,m=1);for(let e=0;e<D;e++){n=JSON.parse(JSON.stringify(b)),n.color=o()*(B.length-1|0)+1,n.F=o()*(B.length-1|0)+1,n.I=4*o()|0,1==M.l&&(n.I=0),n.q=1,n.S=4*o()|0,7==n.type&&(n.S=0);let t=()=>Array(9).fill(Array(9).fill(1));n.N=n.N||t(),n.B=n.B||t(),n.span=[...n.size];for(let e=0;e<n.S;e++)n.span.reverse(),n.N=l(n.N),n.B=l(n.B),n.q=!n.q;if(n.span[0]>h/2){D<30&&D++;continue}n.P=h%2==0?[n.span[0]/2+(o()*(h/2+1-n.span[0])|0),0,-h/2+n.span[2]/2+(o()*(h+1-n.span[2])|0)]:[n.span[0]/2+(o()*((h-1)/2+1-n.span[0])|0)+.5,0,-h/2+n.span[2]/2+(o()*(h+1-n.span[2])|0)],n.span[0]%2==h%2&&o()<1/(h-n.span[0])&&(n.span[0]%2||n.q)&&(n.P[0]=0);let a=0,f=0,m=[...Array(n.span[0])].map(((e,t)=>n.P[0]+t-(n.span[0]-1)/2)),x=[...Array(n.span[2])].map(((e,t)=>n.P[2]+t-(n.span[2]-1)/2));for(let e of m)for(let t of x)e>=0?f++:a++;let d=0,u=0,A=0,p=0;for(let e of x)for(let t of m){let o=p%n.span[0],a=floor(p/n.span[0]);p++,u=max(u,$[t+h/2-.5][e+h/2-.5]),A=max(A,E[t+h/2-.5][e+h/2-.5]),1==n.N[o][a]&&(d=max(d,$[t+h/2-.5][e+h/2-.5]))}d<A||d>u?D<30&&D++:(i=[0,-r.hypot(n.P[0],n.P[2]),-d,-r.hypot(n.P[0],d-10,n.P[2]),-abs(r.hypot(n.P[0],d-10,n.P[2])-h),-abs(r.hypot(n.P[0],2*d,n.P[2])-h),2*d+n.P[2]][k],(i>y||0==e)&&(y=i,c=d,s=n))}if(s&&(s.P[1]=c+s.size[1]/2,s.P[1])){if(m&&s.P[1]-s.span[1]/2==0)continue;let e=Array(s.span[0]).fill().map(((e,t)=>s.P[0]+t-(s.span[0]-1)/2)),t=Array(s.span[2]).fill().map(((e,t)=>s.P[2]+t-(s.span[2]-1)/2)),o=0;for(let a of t)for(let t of e){let e=o%s.span[0],f=floor(o/s.span[0]);o++,$[t+h/2-.5][a+h/2-.5]=c+s.size[1],0==s.B[e][f]&&($[t+h/2-.5][a+h/2-.5]=-99),E[t+h/2-.5][a+h/2-.5]=c+s.size[1]}T.push(s);for(let e=0;e++<8;){let t=[0,0,0].map(((t,o)=>(e>>o&1)-.5));w.push([t[0]*(s.span[0]+2*s.P[0]),t[1]*s.span[1]+s.P[1],t[2]*s.span[2]+s.P[2]])}}}}let P,X=()=>{F={top:-1e9,bottom:1e9,left:1e9,right:-1e9};let e=(e,t,o)=>[e*cos(o)-t*sin(o),e*sin(o)+t*cos(o)];w.forEach((t=>{let[o,a,f]=t;[o,f]=e(o,f,-d),[a,f]=e(a,f,-I),F.left=min(o,F.left),F.right=max(o,F.right),F.bottom=min(a,F.bottom),F.top=max(a,F.top)})),F.width=F.right-F.left,F.height=F.top-F.bottom,F.scale=max(F.width/1.8,F.height/1.8,1),F.offset={x:F.left+F.width/2,y:F.bottom+F.height/2}};function setup(){P=min(windowHeight,windowWidth),p=createCanvas(P,P,WEBGL),A=createGraphics(width,height,WEBGL),q(),background(B[0]),S(),X(),z=B.map((e=>color(e).levels.slice(0,3))).flat().map((e=>e/255)),u_colors=T.map((e=>[e.color,e.F,e.I])).flat(),console.log(T.map((e=>e.type))),console.log(T.filter((e=>7==e.type)));let e="";e+=T.map(((e,t)=>`positions[${t}]=vec3(${e.P[0]},${e.P[1]},${e.P[2]});`)).join(""),e+=T.map(((e,t)=>`sizes[${t}]=vec3(${e.size[0]},${e.size[1]},${e.size[2]});`)).join(""),e+=T.map(((e,t)=>`colors[${t}]=ivec3(${e.color},${e.F},${e.I});`)).join(""),e+=T.map(((e,t)=>`roty[${t}]=vec2(${e.S},${e.type});`)).join(""),u=createShader("attribute vec3 aPosition;varying vec2 uv;void main(){uv=(gl_Position=vec4(aPosition,1.)*2.-1.).xy;}",`precision highp float;\n#define A 60\n#define B 3.1415\n#define C smoothstep\n#define D vec3\n#define E vec2\nfloat F(float G){return fract(54321.987*sin(987.12345*mod(G,12.34567)));}mat2 H(float I){return mat2(cos(I),-sin(I),sin(I),cos(I));}\n#define J 4e2\n#define K .001\nfloat L(float M){return sqrt(abs(M)*abs(M)+5e-5);}float N(float I,float O){return(I+O+L(I-O))*.5;}varying vec2 uv;vec3 positions[A];vec3 sizes[A];vec2 roty[A];ivec3 colors[A];uniform D palette[20];uniform sampler2D backbuffer;uniform float tick;uniform float res;ivec3 P;float Q;float R=1e2;float S(D M,D T,float U){M.y-=clamp(M.y,-T.x,T.x);float V=length(M.xz)-T.z;V-=clamp(V,-T.y,T.y);float S=length(E(V,M.y))-U;return S;}E W(){vec2 X=vec2(F(length(uv)-tick),F(length(uv)-tick-.1));float Y=.5;E I;I.x=.5*pow(abs(2.*((X.x<0.5)?X.x:1.-X.x)),Y);I.y=.5*pow(abs(2.*((X.y<0.5)?X.y:1.-X.y)),Y);X.x=(X.x<0.5)?I.x:1.-I.x;X.y=(X.y<0.5)?I.y:1.-I.y;return X*2.-1.;}int Z;float a(D M){P=ivec3(0,0,-1);M.x=abs(M.x);float b=M.y+1.;for(int c=0;c<A;c++){Z=0;if(c>=${T.length})break;D d=M;d-=positions[c];d.xz*=H(roty[c].x*B/2.);float U=.01;float e=.008;float f;if(roty[c].y==0.||roty[c].y==3.||roty[c].y==4.||roty[c].y==5.||roty[c].y==6.){D T=sizes[c]-2.*(U+e);f=length(d-clamp(d,-(T)/2.,(T)/2.))-U*1.4;}else if(roty[c].y==1.){f=max(length(d.xz)-.5,abs(d.y)-.5);}else if(roty[c].y==2.){f=length(d)-.52;}if(roty[c].y==5.){float S=length(d.zy)-.5;float g=max(abs(d.z)-.5,abs(d.y+sizes[c].y/2.)-1.);float h=min(S,g);f=max(f,-h);}if(roty[c].y==6.){float i=length(d.zx)-.15;float j=S(d+D(0,sizes[c].y-.5,0)/2.,D(.2,.25,.2),U);f=max(f,min(i,j));}if(roty[c].y!=6.){D k=d;E l=sizes[c].xz;k.xz+=(l-1.)/2.;k.xz=k.xz-clamp(floor(k.xz+.5),E(0.),l-1.);float m=.24;float n=(${M.o}==1)?abs(length(k.xz)-.28+.05)-.05:length(k.xz)-.28;n=max(n,abs(k.y-sizes[c].y/2.-m/2.)-m/2.);f=min(n,f);}if(d.z<0.15&&(roty[c].y==3.||roty[c].y==4.)){f=N(f,(-d.z*.8-(roty[c].y==3.?-1.:1.)*d.y-.5)/1.4142);}if(roty[c].y==7.){float o=S(d,D(.2,.25,.2),U);f=o;if(o<K){Z=1;}}if(f<b){b=f;P=colors[c];}if(b<K)break;}return b;}D p(D M){E q=E(.01,0.);return normalize(D(a(M+q.xyy)-a(M-q.xyy),a(M+q.yxy)-a(M-q.yxy),a(M+q.yyx)-a(M-q.yyx)));}void main(){${e}Q=0.;float r=0.,q=1e9,s,t;float u=floor(tick/2.);float v=mod(tick,2.);vec2 w=vec2(v/2.,u/4.);if(mod(u,2.)==0.)w.x+=.25;E x=uv+w/res;D M,y=D(x*float(${F.scale})+E(${F.offset.x},${F.offset.y}),-R),z=D(0,0,.9+.1*F(length(x))),AA;bool AB=false;for(float c=0.;c<J;c++){t=c;M=r*z+y;M.z-=R;M.yz*=H(${I});M.xz*=H(${d});r+=q=a(M);if(s<q&&q<.01){AB=true;break;}s=q;if(q<K||q>R*2.)break;}if(!AB){D AC,AD;for(int t=0;t<20;t++){if(P[0]==t)AC=palette[t];if(P[1]==t)AD=palette[t];}D AE=AC;if(P.z==1)if(sin(M.y*B*3.)>0.)AE=AD;if(P.z==2)if(sin((M.x+fract(positions[0].x-sizes[0].x/2.))*B*2.*1.5)>0.)AE=AD;if(${M.l}==3)AE=sin(length(M)/max(float(${h}),float(${M.u}))*6.28*2.-D(0,B*2./3.,B*4./3.))*.5+.5;if(Z==1){AE=D(0);D AF=M+fract(${h}./2.);AF=fract(AF)-.5;AE+=step(.3,length(AF.xz));AE+=step(-.1,-length(AF.xz+.1));}if(P.z==-1){AA=palette[0];if(length(AA)>.4)AA*=smoothstep(5.,0.,length(x+E(${M.k},-1)));if(${M.l}==3)AA=D(.2);if(sin(length(pow(abs(x),E(${M.g})))*32.)>0.)AA*=.95;}else{AA=(min(1.5,14./t)*.2+.8)*(dot(p(M),normalize(D(0,1,1)))*.2+.8)*AE;AA+=pow(abs(dot(p(M),normalize(D(0.,3.,1.)))),40.);}}if(${M.l}==4)AA=(D(10./t));gl_FragColor=mix(texture2D(backbuffer,uv*E(1,-1)*.5+.5),vec4(AA,1),1./(tick+1.));}`)}let U=+new Date;function draw(){A.clear(),A.image(p,-.5*width,-.5*height,width,height),clear(),shader(u),u.setUniform("backbuffer",A),u.setUniform("tick",N),u.setUniform("palette",z),u.setUniform("res",P),console.log("size",P),rect(0,0,width,height),console.log("u_tick",N),++N>8.5&&(noLoop(),console.log("time",new Date-U)),window.document.title=50-N>0?floor(50-N):"ðŸ‘¾"}'tx shvembldr piter'