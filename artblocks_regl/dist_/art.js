let e,t,o,a,s,i;console.log(tokenData.hash);let l=Math,n=l.min,r=l.max,f=l.floor,p=l.abs,c=l.cos,m=l.sin,y=location.href.split("#")[1],b=e=>e[0].map(((t,o)=>e.slice().reverse().map((e=>e[o]))));const x=0,u=3,z=4,g=5,d=6,h=7,D=30;let v,A,k,$,K,w,N,W,T,X,B,C,F,E,I,P,_,G,R,S,U=.95532,Y=()=>{e=new Uint32Array([0,1,t=a=2,3].map((e=>parseInt(tokenData.hash.substr(8*e+2,8),16)))),o=()=>(a=e[3],e[3]=e[2],e[2]=e[1],e[1]=t=e[0],a^=a<<11,e[0]^=a^a>>>8^t>>>19,e[0]/2**32),s=(e,t)=>e[e.length*o()**(t||1)|0],i=e=>e.map((e=>[e,o()])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0])),P=[],u_tick=1e-6,C=[o()**4*2|0,o()**8*2|0,0,5*(1-o()**.3)|0,0,s([2,1],.5),(3*o()|0)-1,0,0,0,0],v=(C[0]-.5)*l.PI/2-l.PI;let n=[{gs:8+2*o()|0,blocksNumber:30,fitnessFunctionNumber:5,maxTry:8,extra:0},{gs:8+2*o()|0,blocksNumber:30,fitnessFunctionNumber:3,maxTry:8,extra:o()**4*8},{gs:4,blocksNumber:3+4*o()|0,fitnessFunctionNumber:0,maxTry:1,extra:1},{gs:6+4*o()|0,blocksNumber:10+20*o()|0,fitnessFunctionNumber:2,maxTry:6,extra:2*o()},{gs:6+(0|o()),blocksNumber:10+10*o()|0,fitnessFunctionNumber:0,maxTry:4,extra:o()**2*3}];C[4]=o()**.3*n.length|0,({gs:N,blocksNumber:W,fitnessFunctionNumber:T,maxTry:X,extra:B}=n[C[4]]),A=2+2*o()|0,I=[],C[2]=o()**.5*8|0,w="dddddd888888555555222222aaaaaaf26b21fbb04099ca3c208b3afcec529b5de5f15bb500bbf900f5d4fee440f1faeea8dadc457b9d1d3557e6394650514ff25f5c247ba070c1b3ffe066541388d90368f1e9da2e294effd4001f20414b3f72119da419647effc857540d6eee4266f3fcf01f271bffd23fe4572e29335ca8c686669bbcf3a712".slice(30*C[2],30*(C[2]+1)),console.log("u_palette",w);let r=3*o()+1|0;w=w.substring(6*r)+w.substring(0,6*r),console.log("u_palette",w),w=w.match(/(.{2})/g).map((e=>Number("0x"+e)/255))};function j(){let e=i([{size:[2,1,2],maskTop:[[0,1],[0,1]],type:u},{size:[2,1,2],maskBottom:[[0,1],[0,1]],type:z},{size:[2,1,4],type:x},{size:[2,1,3],type:x},{size:[1,1,6],type:x},{size:[1,2,3],maskBottom:[[1,0,1]],type:g},{size:[1,1,3],type:x},{size:[2,1,2],type:x},{size:[1,1,1],type:x},{size:[1,2,1],type:x}].filter((e=>e.size[2]<N))).slice(0,A),t=i([{size:[1,4,1],maskTop:[[0]],type:6},{size:[1,.5,1],maskTop:[[0]],type:7}]);F=[...Array(N)].map((()=>Array(N).fill(0))),E=[...Array(N)].map((()=>Array(N).fill(0)));for(let a=0;a<W;a++){let i,n,c,m=0,y=-9e9,x=0,u=s(e);a>=W-B&&4!=C[3]&&(u=s(t,.7),T=6,X=6,x=1);for(let e=0;e<X;e++){c=JSON.parse(JSON.stringify(u)),c.color=4*o()+1|0,c.color2=4*o()+1|0,2==C[3]&&(c.color=c.color2=1),c.texture=4*o()|0,1==C[3]&&(c.texture=0),c.symX=1,c.rot=4*o()|0,7==c.type&&(c.rot=0);let t=()=>Array(9).fill(Array(9).fill(1));c.maskBottom=c.maskBottom||t(),c.maskTop=c.maskTop||t(),c.span=[...c.size];for(let e=0;e<c.rot;e++)c.span.reverse(),c.maskBottom=b(c.maskBottom),c.maskTop=b(c.maskTop),c.symX=!c.symX;if(c.span[0]>N/2){X<30&&X++;continue}c.pos=N%2==0?[c.span[0]/2+(o()*(N/2+1-c.span[0])|0),0,-N/2+c.span[2]/2+(o()*(N+1-c.span[2])|0)]:[c.span[0]/2+(o()*((N-1)/2+1-c.span[0])|0)+.5,0,-N/2+c.span[2]/2+(o()*(N+1-c.span[2])|0)],c.span[0]%2==N%2&&o()<1/(N-c.span[0])&&(c.span[0]%2||c.symX)&&(c.pos[0]=0);let a=0,s=0,x=[...Array(c.span[0])].map(((e,t)=>c.pos[0]+t-(c.span[0]-1)/2)),z=[...Array(c.span[2])].map(((e,t)=>c.pos[2]+t-(c.span[2]-1)/2));for(let e of x)for(let t of z)e>=0?s++:a++;let g=0,d=0,h=0,D=0;for(let e of z)for(let t of x){let o=D%c.span[0],a=f(D/c.span[0]);D++,d=r(d,F[t+N/2-.5][e+N/2-.5]),h=r(h,E[t+N/2-.5][e+N/2-.5]),1==c.maskBottom[o][a]&&(g=r(g,F[t+N/2-.5][e+N/2-.5]))}g<h||g>d?X<30&&X++:(i=[0,-l.hypot(c.pos[0],c.pos[2]),-g,-l.hypot(c.pos[0],g-10,c.pos[2]),-p(l.hypot(c.pos[0],g-10,c.pos[2])-N),-p(l.hypot(c.pos[0],2*g,c.pos[2])-N),2*g+c.pos[2]][T],(i>y||0==e)&&(y=i,m=g,n=c))}if(n&&(n.pos[1]=m+n.size[1]/2,n.pos[1])){if(x&&n.pos[1]-n.span[1]/2==0)continue;let e=Array(n.span[0]).fill().map(((e,t)=>n.pos[0]+t-(n.span[0]-1)/2)),t=Array(n.span[2]).fill().map(((e,t)=>n.pos[2]+t-(n.span[2]-1)/2)),o=0;for(let a of t)for(let t of e){let e=o%n.span[0],s=f(o/n.span[0]);o++,F[t+N/2-.5][a+N/2-.5]=m+n.size[1],0==n.maskTop[e][s]&&(F[t+N/2-.5][a+N/2-.5]=-99),E[t+N/2-.5][a+N/2-.5]=m+n.size[1]}I.push(n);for(let e=0;e++<8;){let t=[0,0,0].map(((t,o)=>(e>>o&1)-.5));P.push([t[0]*(n.span[0]+2*n.pos[0]),t[1]*n.span[1]+n.pos[1],t[2]*n.span[2]+n.pos[2]])}}}}let M=()=>{_=[-99,99,99,-99];let e=(e,t,o)=>[e*c(o)-t*m(o),e*m(o)+t*c(o)];P.forEach((t=>{let[o,a,s]=t;[o,s]=e(o,s,-v),[a,s]=e(a,s,-U),_[2]=n(o,_[2]),_[3]=r(o,_[3]),_[1]=n(a,_[1]),_[0]=r(a,_[0])})),_[4]=_[3]-_[2],_[5]=_[0]-_[1],_[6]=r(_[4]/1.8,_[5]/1.8,1),_[7]=_[2]+_[4]/2,_[8]=_[1]+_[5]/2};Y(),j(),M(),console.log(w),u_colors=I.map((e=>[e.color,e.color2,e.texture])).flat();let V="";V+=I.map(((e,t)=>`positions[${t}]=vec3(${e.pos[0]},${e.pos[1]},${e.pos[2]});`)).join(""),V+=I.map(((e,t)=>`sizes[${t}]=vec3(${e.size[0]},${e.size[1]},${e.size[2]});`)).join(""),V+=I.map(((e,t)=>`colors[${t}]=ivec3(${e.color},${e.color2},${e.texture});`)).join(""),V+=I.map(((e,t)=>`roty[${t}]=vec2(${e.rot},${e.type});`)).join("");let q=Math.min(window.innerWidth,window.innerHeight)*window.devicePixelRatio,J=document.createElement("canvas");J.style.width=q/window.devicePixelRatio+"px",J.style.height=q/window.devicePixelRatio+"px",q=n(q,2048);const O=J.getContext("webgl",{preserveDrawingBuffer:!0});document.body.appendChild(J),J.style.background=`rgb(${w.slice(0,3).map((e=>255*e))})`,4!=C[3]&&3!=C[3]||(J.style.background="#333"),J.width=q,J.height=q;let Q=16;var H=createREGL(O);const L=H({frag:`precision mediump float;\n#define A 60\n#define B 3.1415\n#define C smoothstep\n#define D vec3\n#define E vec2\nmat2 F(float G){return mat2(cos(G),-sin(G),sin(G),cos(G));}\n#define H 4e2\n#define I .001\nfloat J(float K){return sqrt(abs(K)*abs(K)+5e-5);}float L(float G,float M){return(G+M+J(G-M))*.5;}vec3 positions[A];vec3 sizes[A];vec2 roty[A];ivec3 colors[A];uniform D palette[5];uniform float aa;uniform float res;ivec3 N;float O;float P=1e2;int Q;float R(vec3 K,D S){vec2 T=vec2(length(K.xz),K.y-clamp(K.y,I,S.x));T.x-=clamp(T.x,S.z,S.y);return length(T)-I;}float U(D K){N=ivec3(0,0,-1);K.x=abs(K.x);float V=K.y+1.;for(int W=0;W<A;W++){Q=0;if(W>=${I.length})break;D X=K;X-=positions[W];X.xz*=F(roty[W].x*B/2.);float Y=.01,Z=.008,a;D S=sizes[W]-2.*(Y+Z);a=length(X-clamp(X,-S/2.,S/2.))-Y*1.4;if(roty[W].y==5.){float b=length(X.zy)-.5;float c=max(abs(X.z)-.5,abs(X.y+sizes[W].y/2.)-1.);float d=min(b,c);a=max(a,-d);}if(roty[W].y==6.){float e=R(X+vec3(0,1.6-Y*2.,0),D(3.55,.15,0));float f=R(X+vec3(0,2.-Y*2.,0),D(.4-Y*2.,.45,0));a=min(e,f);}if(roty[W].y!=6.){D g=X;E h=sizes[W].xz;g.xz+=(h-1.)/2.;g.xz=g.xz-clamp(floor(g.xz+.5),E(0.),h-1.);g.y-=sizes[W].y/2.+.02;float i=R(g,D(.24,.28,mix(I,.18,${C[1]}.)));a=min(i,a);}if(X.z<.01&&(roty[W].y==3.||roty[W].y==4.)){a=L(a,dot(X,vec3(0,.78*(7.-2.*roty[W].y),-.624))-.39);}if(roty[W].y==7.){float j=R(X+vec3(0,.25-Y*2.,0),D(.4-Y*2.,.45,0));a=j;if(j<I){Q=1;}}if(a<V){V=a;N=colors[W];}if(V<I)break;}return V;}D k(D K){E l=E(.01,0.);return normalize(D(U(K+l.xyy)-U(K-l.xyy),U(K+l.yxy)-U(K-l.yxy),U(K+l.yyx)-U(K-l.yyx)));}void main(){${V}D m=D(0);vec2 n,o=(gl_FragCoord.xy*2.-res)/res;for(float p=0.;p<8.;p++){if(p>=aa)break;O=0.;highp float q=0.,l=1e9,r,s;float t=floor(p/2.);float u=mod(p,2.);vec2 v=vec2(u/2.,t/4.)-.5;if(mod(t,2.)==0.)v.x+=.25;vec2 n=o;n+=v*2./res;highp D K,w=D(n*float(${_[6]})+E(${_[7]},${_[8]}),-P),x=D(0,0,.9+.1*fract(1e3*sin(1e3*fract(length(n)))));bool y=false;for(float W=0.;W<H;W++){s=W;K=q*x+w;K.z-=P;K.yz*=F(${U});K.xz*=F(${v});q+=l=U(K);if(r<l&&l<.01){y=true;break;}r=l;if(l<I||l>P*2.)break;}D z;if(!y){D AA,AB;for(int s=0;s<5;s++){if(N[0]==s)AA=palette[s];if(N[1]==s)AB=palette[s];}D AC=AA;if(N.z==1)if(sin(K.y*B*3.)>0.)AC=AB;if(N.z==2)if(sin((K.x+fract(positions[0].x-sizes[0].x/2.))*B*2.*1.5)>0.)AC=AB;if(${C[3]}==3)AC=sin((length(K)/max(float(${N}),float(${C[8]}))*2.-D(0,.3,.6))*6.28)*.5+.5;if(Q==1){AC=D(0);D AD=K+fract(${N}./2.);AD=fract(AD)-.5;AC+=step(.3,length(AD.xz));AC+=step(-.1,-length(AD.xz+.1));}if(N.z==-1){z=palette[0];if(length(z)>.4){z*=smoothstep(5.,0.,length(n+E(${C[6]},-1)));}if(${C[3]}==3){z=D(.2);}if(sin(length(pow(abs(n),E(${C[5]})))*32.)>0.)z*=.95;}else{z=D(1,0,1);z=(min(1.5,14./s)*.2+.8)*(dot(k(K),normalize(D(0,1,1)))*.2+.8)*AC;z+=pow(abs(dot(k(K),normalize(D(0.,3.,1.)))),40.);}if(${C[3]}==4)z=(D(7./s));}m+=z;}gl_FragColor=vec4(m/aa,1);}`,vert:"attribute vec2 g;void main(){gl_Position=vec4(g,0,1);}",attributes:{g:[[1,1],[1,-4],[-4,1]]},uniforms:{res:H.prop("res"),palette:w,aa:H.prop("aa")},scissor:{enable:!0,box:{x:H.prop("x"),y:H.prop("y"),width:H.prop("ts_"),height:H.prop("ts_")}},count:3});let Z=1+(q/R|0),ee=0;function*te(){let[e,t,o,a]=[0,0,1,1];for(;;){for(;2*e*o<a;)yield[e,t],e+=o;for(;2*t*o<a;)yield[e,t],t+=o;o=-o,a++}}let oe=te();a=+new Date;let ae=1,se=8,ie=1;R=32,S=2*(q/R/2|0)+3;let le=0,ne=H.frame((function(){for(let e=0;e++<ie;){let[e,t]=oe.next().value;L({res:q,x:q/2-R/2+R*e|0,y:q/2-R/2-R*t|0,ts_:R,aa:se}),ee++}console.log("new Date() - t",new Date-a),new Date-a>160&&(ie=r(1,ie-2)),new Date-a<30&&(ie+=2),1==ie?le++:le=r(0,le--),console.log("slowDevice",le),le>4&&(se=1),y&&(se=Number(y)),a=+new Date,ee>S**2&&ne.cancel()}));'tx shvembldr piter stranger'