let e,t,o,a,s,l;console.log(tokenData.hash);let i=Math,n=i.min,r=i.max,f=i.floor,p=i.abs,c=i.cos,y=i.sin,m=location.href.split("#")[1],z=e=>e[0].map(((t,o)=>e.slice().reverse().map((e=>e[o]))));const d=0,g=3,h=4,x=5,b=6,D=7,u=30;let v,A,$,K,k,w,W,X,B,C,N,T,E,I,P,_,G,R=.95532,S=()=>{e=new Uint32Array([0,1,t=a=2,3].map((e=>parseInt(tokenData.hash.substr(8*e+2,8),16)))),o=()=>(a=e[3],e[3]=e[2],e[2]=e[1],e[1]=t=e[0],a^=a<<11,e[0]^=a^a>>>8^t>>>19,e[0]/2**32),s=(e,t)=>e[e.length*o()**(t||1)|0],l=e=>e.map((e=>[e,o()])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0])),E=[],u_tick=1e-6,B=[o()**4*2|0,o()**8*2|0,0,5*(1-o()**.3)|0,0,s([2,1],.5),(3*o()|0)-1,0,0,0,0],v=(B[0]-.5)*i.PI/2-i.PI;let n=[[8+2*o()|0,30,5,8,0],[8+2*o()|0,30,3,8,o()**4*8],[4,3+4*o()|0,0,1,1],[6+4*o()|0,10+20*o()|0,2,6,2*o()],[6+(0|o()),10+10*o()|0,0,4,o()**2*3]];B[4]=o()**.3*n.length|0,[K,k,w,W,X]=n[B[4]],A=2+2*o()|0,T=[],B[2]=o()**.5*8|0,$="dddddd888888555555222222aaaaaaf26b21fbb04099ca3c208b3afcec529b5de5f15bb500bbf900f5d4fee440f1faeea8dadc457b9d1d3557e6394650514ff25f5c247ba070c1b3ffe066541388d90368f1e9da2e294effd4001f20414b3f72119da419647effc857540d6eee4266f3fcf01f271bffd23fe4572e29335ca8c686669bbcf3a712".slice(30*B[2],30*(B[2]+1)),console.log("u_palette",$);let r=3*o()+1|0;$=$.substring(6*r)+$.substring(0,6*r),console.log("u_palette",$),$=$.match(/(.{2})/g).map((e=>Number("0x"+e)/255))};function U(){let e=l([{size:[2,1,2],maskTop:[[0,1],[0,1]],type:g},{size:[2,1,2],maskBottom:[[0,1],[0,1]],type:h},{size:[2,1,4],type:d},{size:[2,1,3],type:d},{size:[1,1,6],type:d},{size:[1,2,3],maskBottom:[[1,0,1]],type:x},{size:[1,1,3],type:d},{size:[2,1,2],type:d},{size:[1,1,1],type:d},{size:[1,2,1],type:d}].filter((e=>e.size[2]<K))).slice(0,A),t=l([{size:[1,4,1],maskTop:[[0]],type:6},{size:[1,.5,1],maskTop:[[0]],type:7}]);C=[...Array(K)].map((()=>Array(K).fill(0))),N=[...Array(K)].map((()=>Array(K).fill(0)));for(let a=0;a<k;a++){let l,n,c,y=0,m=-9e9,d=0,g=s(e);a>=k-X&&4!=B[3]&&(g=s(t,.7),w=6,W=6,d=1);for(let e=0;e<W;e++){c=JSON.parse(JSON.stringify(g)),c.color=4*o()+1|0,c.color2=4*o()+1|0,2==B[3]&&(c.color=c.color2=1),c.texture=4*o()|0,1==B[3]&&(c.texture=0),c.symX=1,c.rot=4*o()|0,7==c.type&&(c.rot=0);let t=()=>Array(9).fill(Array(9).fill(1));c.maskBottom=c.maskBottom||t(),c.maskTop=c.maskTop||t(),c.span=[...c.size];for(let e=0;e<c.rot;e++)c.span.reverse(),c.maskBottom=z(c.maskBottom),c.maskTop=z(c.maskTop),c.symX=!c.symX;if(c.span[0]>K/2){W<30&&W++;continue}c.pos=K%2==0?[c.span[0]/2+(o()*(K/2+1-c.span[0])|0),0,-K/2+c.span[2]/2+(o()*(K+1-c.span[2])|0)]:[c.span[0]/2+(o()*((K-1)/2+1-c.span[0])|0)+.5,0,-K/2+c.span[2]/2+(o()*(K+1-c.span[2])|0)],c.span[0]%2==K%2&&o()<1/(K-c.span[0])&&(c.span[0]%2||c.symX)&&(c.pos[0]=0);let a=0,s=0,d=[...Array(c.span[0])].map(((e,t)=>c.pos[0]+t-(c.span[0]-1)/2)),h=[...Array(c.span[2])].map(((e,t)=>c.pos[2]+t-(c.span[2]-1)/2));for(let e of d)for(let t of h)e>=0?s++:a++;let x=0,b=0,D=0,u=0;for(let e of h)for(let t of d){let o=u%c.span[0],a=f(u/c.span[0]);u++,b=r(b,C[t+K/2-.5][e+K/2-.5]),D=r(D,N[t+K/2-.5][e+K/2-.5]),1==c.maskBottom[o][a]&&(x=r(x,C[t+K/2-.5][e+K/2-.5]))}x<D||x>b?W<30&&W++:(l=[0,-i.hypot(c.pos[0],c.pos[2]),-x,-i.hypot(c.pos[0],x-10,c.pos[2]),-p(i.hypot(c.pos[0],x-10,c.pos[2])-K),-p(i.hypot(c.pos[0],2*x,c.pos[2])-K),2*x+c.pos[2]][w],(l>m||0==e)&&(m=l,y=x,n=c))}if(n&&(n.pos[1]=y+n.size[1]/2,n.pos[1])){if(d&&n.pos[1]-n.span[1]/2==0)continue;let e=Array(n.span[0]).fill().map(((e,t)=>n.pos[0]+t-(n.span[0]-1)/2)),t=Array(n.span[2]).fill().map(((e,t)=>n.pos[2]+t-(n.span[2]-1)/2)),o=0;for(let a of t)for(let t of e){let e=o%n.span[0],s=f(o/n.span[0]);o++,C[t+K/2-.5][a+K/2-.5]=y+n.size[1],0==n.maskTop[e][s]&&(C[t+K/2-.5][a+K/2-.5]=-99),N[t+K/2-.5][a+K/2-.5]=y+n.size[1]}T.push(n);for(let e=0;e++<8;){let t=[0,0,0].map(((t,o)=>(e>>o&1)-.5));E.push([t[0]*(n.span[0]+2*n.pos[0]),t[1]*n.span[1]+n.pos[1],t[2]*n.span[2]+n.pos[2]])}}}}let Y=()=>{I=[-99,99,99,-99];let e=(e,t,o)=>[e*c(o)-t*y(o),e*y(o)+t*c(o)];E.forEach((t=>{let[o,a,s]=t;[o,s]=e(o,s,-v),[a,s]=e(a,s,-R),I[2]=n(o,I[2]),I[3]=r(o,I[3]),I[1]=n(a,I[1]),I[0]=r(a,I[0])})),I[4]=I[3]-I[2],I[5]=I[0]-I[1],I[6]=r(I[4]/1.8,I[5]/1.8,1),I[7]=I[2]+I[4]/2,I[8]=I[1]+I[5]/2};S(),U(),Y(),console.log($),u_colors=T.map((e=>[e.color,e.color2,e.texture])).flat();let j="";j+=T.map(((e,t)=>`positions[${t}]=vec3(${e.pos[0]},${e.pos[1]},${e.pos[2]});`)).join(""),j+=T.map(((e,t)=>`sizes[${t}]=vec3(${e.size[0]},${e.size[1]},${e.size[2]});`)).join(""),j+=T.map(((e,t)=>`colors[${t}]=ivec3(${e.color},${e.color2},${e.texture});`)).join(""),j+=T.map(((e,t)=>`roty[${t}]=vec2(${e.rot},${e.type});`)).join("");let F=Math.min(window.innerWidth,window.innerHeight)*window.devicePixelRatio,M=document.createElement("canvas");M.style.width=F/window.devicePixelRatio+"px",M.style.height=F/window.devicePixelRatio+"px",F=n(F,2048);const V=M.getContext("webgl",{preserveDrawingBuffer:!0});document.body.appendChild(M),M.style.background=`rgb(${$.slice(0,3).map((e=>255*e))})`,4!=B[3]&&3!=B[3]||(M.style.background="#333"),M.width=F,M.height=F;let q=16;var J=createREGL(V);const O=J({frag:`precision mediump float;\n#define A 60\n#define B 3.1415\n#define C smoothstep\n#define D vec3\n#define E vec2\nmat2 F(float G){return mat2(cos(G),-sin(G),sin(G),cos(G));}\n#define H 4e2\n#define I .001\nfloat J(float K){return sqrt(abs(K)*abs(K)+5e-5);}float L(float G,float M){return(G+M+J(G-M))*.5;}vec3 positions[A];vec3 sizes[A];vec2 roty[A];ivec3 colors[A];uniform D palette[5];uniform float aa;uniform float res;ivec3 N;float O;float P=1e2;int Q;float R(vec3 K,D S){vec2 T=vec2(length(K.xz),K.y-clamp(K.y,I,S.x));T.x-=clamp(T.x,S.z,S.y);return length(T)-I;}float U(D K){N=ivec3(0,0,-1);K.x=abs(K.x);float V=K.y+1.;for(int W=0;W<A;W++){Q=0;if(W>=${T.length})break;D X=K;X-=positions[W];X.xz*=F(roty[W].x*B/2.);float Y=.01,Z=.008,a;D S=sizes[W]-2.*(Y+Z);a=length(X-clamp(X,-S/2.,S/2.))-Y*1.4;if(roty[W].y==5.){float b=length(X.zy)-.5;float c=max(abs(X.z)-.5,abs(X.y+sizes[W].y/2.)-1.);float d=min(b,c);a=max(a,-d);}if(roty[W].y==6.){float e=R(X+vec3(0,1.6-Y*2.,0),D(3.55,.15,0));float f=R(X+vec3(0,2.-Y*2.,0),D(.4-Y*2.,.45,0));a=min(e,f);}if(roty[W].y!=6.){D g=X;E h=sizes[W].xz;g.xz+=(h-1.)/2.;g.xz=g.xz-clamp(floor(g.xz+.5),E(0.),h-1.);g.y-=sizes[W].y/2.+.02;float i=R(g,D(.24,.28,mix(I,.18,${B[1]}.)));a=min(i,a);}if(X.z<.01&&(roty[W].y==3.||roty[W].y==4.)){a=L(a,dot(X,vec3(0,.78*(7.-2.*roty[W].y),-.624))-.39);}if(roty[W].y==7.){float j=R(X+vec3(0,.25-Y*2.,0),D(.4-Y*2.,.45,0));a=j;if(j<I){Q=1;}}if(a<V){V=a;N=colors[W];}if(V<I)break;}return V;}D k(D K){E l=E(.01,0.);return normalize(D(U(K+l.xyy)-U(K-l.xyy),U(K+l.yxy)-U(K-l.yxy),U(K+l.yyx)-U(K-l.yyx)));}void main(){${j}D m=D(0);vec2 n,o=(gl_FragCoord.xy*2.-res)/res;for(float p=0.;p<8.;p++){if(p>=aa)break;O=0.;highp float q=0.,l=1e9,r,s;float t=floor(p/2.);float u=mod(p,2.);vec2 v=vec2(u/2.,t/4.)-.5;if(mod(t,2.)==0.)v.x+=.25;vec2 n=o;n+=v*2./res;highp D K,w=D(n*float(${I[6]})+E(${I[7]},${I[8]}),-P),x=D(0,0,.9+.1*fract(1e3*sin(1e3*fract(length(n)))));bool y=false;for(float W=0.;W<H;W++){s=W;K=q*x+w;K.z-=P;K.yz*=F(${R});K.xz*=F(${v});q+=l=U(K);if(r<l&&l<.01){y=true;break;}r=l;if(l<I||l>P*2.)break;}D z;if(!y){D AA,AB;for(int s=0;s<5;s++){if(N[0]==s)AA=palette[s];if(N[1]==s)AB=palette[s];}D AC=AA;if(N.z==1)if(sin(K.y*B*3.)>0.)AC=AB;if(N.z==2)if(sin((K.x+fract(positions[0].x-sizes[0].x/2.))*B*2.*1.5)>0.)AC=AB;if(${B[3]}==3)AC=sin((length(K)/max(float(${K}),float(${B[8]}))*2.-D(0,.3,.6))*6.28)*.5+.5;if(Q==1){AC=D(0);D AD=K+fract(${K}./2.);AD=fract(AD)-.5;AC+=step(.3,length(AD.xz));AC+=step(-.1,-length(AD.xz+.1));}if(N.z==-1){z=palette[0];if(length(z)>.4){z*=smoothstep(5.,0.,length(n+E(${B[6]},-1)));}if(${B[3]}==3){z=D(.2);}if(sin(length(pow(abs(n),E(${B[5]})))*32.)>0.)z*=.95;}else{z=D(1,0,1);z=(min(1.5,14./s)*.2+.8)*(dot(k(K),normalize(D(0,1,1)))*.2+.8)*AC;z+=pow(abs(dot(k(K),normalize(D(0.,3.,1.)))),40.);}if(${B[3]}==4)z=(D(7./s));}m+=z;}gl_FragColor=vec4(m/aa,1);}`,vert:"attribute vec2 g;void main(){gl_Position=vec4(g,0,1);}",attributes:{g:[[1,1],[1,-4],[-4,1]]},uniforms:{res:J.prop("res"),palette:$,aa:J.prop("aa")},scissor:{enable:!0,box:{x:J.prop("x"),y:J.prop("y"),width:J.prop("ts_"),height:J.prop("ts_")}},count:3});let Q=1+(F/_|0),H=0;function*L(){let[e,t,o,a]=[0,0,1,1];for(;;){for(;2*e*o<a;)yield[e,t],e+=o;for(;2*t*o<a;)yield[e,t],t+=o;o=-o,a++}}let Z=L();a=+new Date;let ee=1,te=8,oe=1;_=32,G=2*(F/_/2|0)+3;let ae=0,se=J.frame((function(){for(let e=0;e++<oe;){let[e,t]=Z.next().value;O({res:F,x:F/2-_/2+_*e|0,y:F/2-_/2-_*t|0,ts_:_,aa:te}),H++}console.log("new Date() - t",new Date-a),new Date-a>160&&(oe=r(1,oe-2)),new Date-a<30&&(oe+=2),1==oe?ae++:ae=r(0,ae--),console.log("slowDevice",ae),ae>4&&(te=1),m&&(te=Number(m)),a=+new Date,H>G**2&&se.cancel()}));'tx shvembldr piter stranger'