let e,t,a,i,o,r;console.log(tokenData.hash);let f=Math,l=Array,n=devicePixelRatio,s=f.min,c=f.max,p=f.floor,m=f.abs,d=f.cos,y=f.sin,D=document.createElement("div");D.classList.add("debug"),D.style.width="100%",D.style.height="100px",document.body.appendChild(D);let b,x,A,h,u,E,g,$,M,v,z,Y,w,H,B,Z,k,G,P=location.href.split("#")[1],F=e=>e[0].map((t,a)=>e.slice().reverse().map(e=>e[a])),C=0,J=3,W=4,U=5,j=6,I=7,K=30,S=.95532,N=()=>{e=new Uint32Array([0,1,t=i=2,3].map(e=>parseInt(tokenData.hash.substr(8*e+2,8),16))),a=()=>(i=e[3],e[3]=e[2],e[2]=e[1],e[1]=t=e[0],i^=i<<11,e[0]^=i^i>>>8^t>>>19,e[0]/2**32),o=(e,t)=>e[e.length*a()**(t||1)|0],r=e=>e.map(e=>[e,a()]).sort((e,t)=>e[1]-t[1]).map(e=>e[0]),w=[],u_tick=1e-6,M=[a()**4*2|0,a()**8*2|0,0,5*(1-a()**.3)|0,0,o([2,1],.5),(3*a()|0)-1,0,0,0,0],b=(M[0]-.5)*f.PI/2-f.PI;let l=[[8+2*a()|0,30,5,8,0],[8+2*a()|0,30,3,8,a()**4*8],[4,3+4*a()|0,0,1,1],[6+4*a()|0,10+20*a()|0,2,6,2*a()],[6+(0|a()),10+10*a()|0,0,4,a()**2*3]];M[4]=a()**.3*l.length|0,[h,u,E,g,$]=l[M[4]],x=2+2*a()|0,Y=[],M[2]=a()**.5*8|0,A="dddddd888888555555222222aaaaaaf26b21fbb04099ca3c208b3afcec529b5de5f15bb500bbf900f5d4fee440f1faeea8dadc457b9d1d3557e6394650514ff25f5c247ba070c1b3ffe066541388d90368f1e9da2e294effd4001f20414b3f72119da419647effc857540d6eee4266f3fcf01f271bffd23fe4572e29335ca8c686669bbcf3a712".substr(30*M[2],30).match(/(.{2})/g).map(e=>Number("0x"+e)),B=4*a()|0},R=()=>{let e=r([[[2,1,2],[[0,1],[0,1]],0,J],[[2,1,2],0,[[0,1],[0,1]],W],[[2,1,4],0,0,C],[[2,1,3],0,0,C],[[1,1,6],0,0,C],[[1,2,3],0,[[1,0,1]],U],[[1,1,3],0,0,C],[[2,1,2],0,0,C],[[1,1,1],0,0,C],[[1,2,1],0,0,C]].filter(e=>e[0][2]<h)).slice(0,x),t=r([[[1,4,1],[[0]],0,j],[[1,.5,1],[[0]],0,I]]);v=[...l(h)].map(()=>l(h).fill(0)),z=[...l(h)].map(()=>l(h).fill(0));for(let i=0;i<u;i++){let r,n,s,d=0,y=-9e9,D=0,b=o(e);i>=u-$&&4!=M[3]&&(b=o(t,.7),E=6,g=6,D=1);for(let e=0;e<g;e++){s=JSON.parse(JSON.stringify(b)),s[4]=4*a()+1|0,s[5]=4*a()+1|0,2==M[3]&&(s[4]=s[5]=1),s[6]=4*a()|0,1==M[3]&&(s[6]=0),s[7]=1,s[8]=4*a()|0,s[3]==I&&(s[8]=0);let t=()=>l(9).fill(l(9).fill(1));s[2]=s[2]||t(),s[1]=s[1]||t(),s[9]=[...s[0]];for(let e=0;e<s[8];e++)s[9].reverse(),s[2]=F(s[2]),s[1]=F(s[1]),s[7]=!s[7];if(s[9][0]>h/2){g<K&&g++;continue}s[10]=h%2==0?[s[9][0]/2+(a()*(h/2+1-s[9][0])|0),0,-h/2+s[9][2]/2+(a()*(h+1-s[9][2])|0)]:[s[9][0]/2+(a()*((h-1)/2+1-s[9][0])|0)+.5,0,-h/2+s[9][2]/2+(a()*(h+1-s[9][2])|0)],s[9][0]%2==h%2&&a()<1/(h-s[9][0])&&(s[9][0]%2||s[7])&&(s[10][0]=0);let i=0,o=0,D=[...l(s[9][0])].map((e,t)=>s[10][0]+t-(s[9][0]-1)/2),x=[...l(s[9][2])].map((e,t)=>s[10][2]+t-(s[9][2]-1)/2);for(let e of D)for(let t of x)e>=0?o++:i++;let A=0,u=0,$=0,Y=0;for(let e of x)for(let t of D){let a=Y%s[9][0],i=p(Y/s[9][0]);Y++,u=c(u,v[t+h/2-.5][e+h/2-.5]),$=c($,z[t+h/2-.5][e+h/2-.5]),1==s[2][a][i]&&(A=c(A,v[t+h/2-.5][e+h/2-.5]))}A<$||A>u?g<K&&g++:(r=[0,-f.hypot(s[10][0],s[10][2]),-A,-f.hypot(s[10][0],A-10,s[10][2]),-m(f.hypot(s[10][0],A-10,s[10][2])-h),-m(f.hypot(s[10][0],2*A,s[10][2])-h),2*A+s[10][2]][E],(r>y||0==e)&&(y=r,d=A,n=s))}if(n&&(n[10][1]=d+n[0][1]/2,n[10][1])){if(D&&n[10][1]-n[9][1]/2==0)continue;let e=l(n[9][0]).fill().map((e,t)=>n[10][0]+t-(n[9][0]-1)/2),t=l(n[9][2]).fill().map((e,t)=>n[10][2]+t-(n[9][2]-1)/2),a=0;for(let i of t)for(let t of e){let e=a%n[9][0],o=p(a/n[9][0]);a++,v[t+h/2-.5][i+h/2-.5]=d+n[0][1],0==n[1][e][o]&&(v[t+h/2-.5][i+h/2-.5]=-99),z[t+h/2-.5][i+h/2-.5]=d+n[0][1]}Y.push(n);for(let e=0;e++<8;){let t=[0,0,0].map((t,a)=>(e>>a&1)-.5);w.push([t[0]*(n[9][0]+2*n[10][0]),t[1]*n[9][1]+n[10][1],t[2]*n[9][2]+n[10][2]])}}}},T=()=>{H=[-99,99,99,-99];let e=(e,t,a)=>[e*d(a)-t*y(a),e*y(a)+t*d(a)];w.forEach(t=>{let[a,i,o]=t;[a,o]=e(a,o,-b),[i,o]=e(i,o,-S),H[2]=s(a,H[2]),H[3]=c(a,H[3]),H[1]=s(i,H[1]),H[0]=c(i,H[0])}),H[4]=H[3]-H[2],H[5]=H[0]-H[1],H[6]=c(H[4]/1.8,H[5]/1.8,1),H[7]=H[2]+H[4]/2,H[8]=H[1]+H[5]/2};N(),R(),T(),console.log(A),u_colors=Y.map(e=>[e[4],e[5],e[6]]).flat();let L="";L+=Y.map((e,t)=>`ps[${t}]=vec3(${e[10][0]},${e[10][1]},${e[10][2]});`).join(""),L+=Y.map((e,t)=>`ss[${t}]=vec3(${e[0][0]},${e[0][1]},${e[0][2]});`).join(""),L+=Y.map((e,t)=>`cs[${t}]=ivec3(${e[4]},${e[5]},${e[6]});`).join(""),L+=Y.map((e,t)=>`rt[${t}]=vec2(${e[8]},${e[3]});`).join("");let O=f.min(innerWidth,innerHeight)*n,X=document.createElement("canvas");X.style.width=O/n+"px",X.style.height=O/n+"px",O=s(O,2048);let _=X.getContext("webgl",{preserveDrawingBuffer:!0});document.body.appendChild(X);let q=A.slice(3*B,3+3*B);X.style.background=4==M[3]||3==M[3]?"#333":`rgb(${q})`,X.width=O,X.height=O;let V=16;var Q=createREGL(_);let ee={frag:`precision highp float;@A 60@B 3.1415@C smoothstep@D vec3@E float@F normalize@G length@H vec2\nmat2 I(E J){â†’mat2(cos(J),-sin(J),sin(J),cos(J));}@K .001\nE L(E M){â†’sqrt(abs(M)*abs(M)+5e-5);}E N(E J,E O){â†’(J+O+L(J-O))*.5;}D ps[A];D ss[A];H rt[A];ivec3 cs[A];uniform D pt[5];uniform E aa;uniform E rs;ivec3 P;E Q;E R=1e2;int S;E T(D M,D U){H V=H(G(M.xz),M.y-clamp(M.y,K,U.x));V.x-=clamp(V.x,U.z,U.y);â†’G(V)-K;}E W(D M){P=ivec3(0,0,-1);M.x=abs(M.x);E X=M.y+1.;for(int Y=0;Y<A;Y++){S=0;if(Y>=${Y.length})break;D Z=M;Z-=ps[Y];Z.xz*=I(rt[Y].x*B/2.);E a=.01,b=.008,c;D U=ss[Y]-2.*(a+b);c=G(Z-clamp(Z,-U/2.,U/2.))-a*1.4;if(rt[Y].y==5.){E d=G(Z.zy)-.5;E e=max(abs(Z.z)-.5,abs(Z.y+ss[Y].y/2.)-1.);E f=min(d,e);c=max(c,-f);}if(rt[Y].y==6.){E g=T(Z+D(0,1.6-a*2.,0),D(3.55,.15,0));E h=T(Z+D(0,2.-a*2.,0),D(.4-a*2.,.45,0));c=min(g,h);}if(rt[Y].y!=6.){D i=Z;H j=ss[Y].xz;i.xz+=(j-1.)/2.;i.xz=i.xz-clamp(floor(i.xz+.5),H(0.),j-1.);i.y-=ss[Y].y/2.+.02;E k=T(i,D(.24,.28,mix(K,.18,${M[1]}.)));c=min(k,c);}if(Z.z<.01&&(rt[Y].y==3.||rt[Y].y==4.)){c=N(c,dot(Z,D(0,.78*(7.-2.*rt[Y].y),-.624))-.39);}if(rt[Y].y==7.){E l=T(Z+D(0,.25-a*2.,0),D(.4-a*2.,.45,0));c=l;if(l<K){S=1;}}if(c<X){X=c;P=cs[Y];}if(X<K)break;}â†’X;}D m(D M){H n=H(.01,0.);â†’F(D(W(M+n.xyy)-W(M-n.xyy),W(M+n.yxy)-W(M-n.yxy),W(M+n.yyx)-W(M-n.yyx)));}void main(){${L}D o=D(0);H p,q=(gl_FragCoord.xy*2.-rs)/rs;for(E r=0.;r<8.;r++){if(r>=aa)break;Q=0.;E s=0.,n=1e9,t,u;E v=floor(r/2.);E w=mod(r,2.);H x=H(w/2.,v/4.)-.5;if(mod(v,2.)==0.)x.x+=.25;H p=q;p+=x*2./rs;D M,y=D(p*E(${H[6]})+H(${H[7]},${H[8]}),-R),z=D(0,0,.9+.1*fract(1e3*sin(1e3*fract(G(p)))));bool AA=false;for(E Y=0.;Y<4e2;Y++){u=Y;M=s*z+y;M.z-=R;M.yz*=I(${S});M.xz*=I(${b});s+=n=W(M);if(t<n&&n<.01){AA=true;break;}t=n;if(n<K||n>R*2.)break;}D AB;if(!AA){D AC,AD;for(int u=0;u<5;u++){if(P[0]==u)AC=pt[u];if(P[1]==u)AD=pt[u];}D AE=AC;if(P.z==1)if(sin(M.y*B*3.)>0.)AE=AD;if(P.z==2)if(sin((M.x+fract(ps[0].x-ss[0].x/2.))*B*2.*1.5)>0.)AE=AD;if(${M[3]}==3)AE=sin((G(M)/max(E(${h}),E(${M[8]}))*2.-D(0,.3,.6))*6.28)*.5+.5;if(S==1){AE=D(0);D AF=M+fract(${h}./2.);AF=fract(AF)-.5;AE+=step(.3,G(AF.xz));AE+=step(-.1,-G(AF.xz+.1));}if(P.z==-1){AB=D(${q})/255.;if(G(AB)>.4){AB*=C(5.,0.,G(p+H(${M[6]},-1)));}if(${M[3]}==3){AB=D(.2);}if(sin(G(pow(abs(p),H(${M[5]})))*32.)>0.)AB*=.95;}else{AB=D(1,0,1);AB=(min(1.5,14./u)*.2+.8)*(dot(m(M),F(D(0,1,1)))*.2+.8)*AE;AB+=pow(abs(dot(m(M),F(D(0.,3.,1.)))),40.);}if(${M[3]}==4)AB=(D(7./u));}o+=AB;}gl_FragColor=vec4(o/aa,1);}`.replace(/@/g,"\n#define ").replace(/â†’/g,"return "),vert:"attribute vec2 g;void main(){gl_Position=vec4(g,0,1);}",attributes:{g:[[1,1],[1,-4],[-4,1]]},uniforms:{rs:Q.prop("r"),pt:A.map(e=>e/255),aa:Q.prop("a")},scissor:{enable:!0,box:{x:Q.prop("x"),y:Q.prop("y"),width:Q.prop("t"),height:Q.prop("t")}},count:3},te=Q.framebuffer({width:1584,height:1584}),ae=Q(ee);ee.framebuffer=te;let ie=Q(ee),oe=1+(O/k|0),re=0,fe=new Date,le=1,ne=1,se=1;k=32,G=2*(O/k/2|0)+3;let ce=0;function*pe(){let[e,t,a,i]=[0,0,1,1];for(;;){for(;2*e*a<i;)yield[e,t],e+=a,console.log(e);for(;2*t*a<i;)yield[e,t],t+=a,console.log(e);a=-a,i++}}let me=pe();i=+new Date;for(let e=0;e<9801;e++){let t=e%99*k,a=p(e/99)*k;ie({r:O,x:t,y:a,t:k,a:1})}console.log("ðŸ‘¾ time is",new Date-i),document.querySelector("div.debug").innerHTML=`\n                    new Date() - t: ${new Date-i}<br>\n                    `;let de=Q.frame(()=>{for(let e=0;e++<se;){if(re>99){let[e,t]=me.next().value;ae({r:O,x:O/2-k/2+k*e|0,y:O/2-k/2-k*t|0,t:k,a:ne})}else ie({r:O,x:0,y:re*k,t:k,a:1});console.log("tick",re),re++}console.log("new Date() - t",new Date-i),i=+new Date,re<=99&&1==ne?(se=1,99==re&&(tokenData.hash=i-fe),99==re&&i-fe<2e4&&(re=0,console.log("â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸â¬œï¸ reset"),me=pe(),ne=8)):(i-fe>160&&(se=c(1,se-8)),i-fe<30&&(se+=2),fe=i),P&&(ne=Number(P)),re>G**2&&de.cancel()});'tx shvembldr piter stranger'