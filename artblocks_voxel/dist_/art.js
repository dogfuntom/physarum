let e,t,r,a,o,l;window.location.hash&&(tokenData.hash=window.location.hash.slice(1)),console.log(tokenData.hash);let f,i,A,s,c,n,x,m,p,d,D,y,u,g,b,K,v,h=Math,z=Array,E=h.min,_=h.max,k=h.floor,C=h.abs,H=h.cos,S=h.sin,W=devicePixelRatio,$=location.href.split("#")[1],q=e=>e[0].map((t,r)=>e.slice().reverse().map(e=>e[r])),O=0,R=3,w=4,F=5,G=6,N=7,U=30,I=.95532,X=[...Array(1e3)].map(()=>[...Array(10)].map(()=>[0,0,0])),J=()=>{e=new Uint32Array([4,1,t=a=2,3].map(e=>parseInt(tokenData.hash.substr(8*e,8),16))),r=()=>(a=e[3],e[3]=e[2],e[2]=e[1],e[1]=t=e[0],a^=a<<11,e[0]^=a^a>>>8^t>>>19,e[0]/2**32),o=(e,t)=>e[e.length*r()**(t||1)|0],l=e=>e.map(e=>[e,r()]).sort((e,t)=>e[1]-t[1]).map(e=>e[0]),u=[],u_tick=1e-6,p=[r()**4*2|0,r()**8*2|0,0,4*(1-h.sqrt(1-(r()-1)**4))|0,0,o([2,1],.5),(3*r()|0)-1,0,0,0,0],f=(p[0]-.5)*h.PI/2-h.PI;let d=[[10,20+20*r(),3,8,r()**4*8],[4,4+4*r()|0,1,1,1],[8+2*r()|0,30,4,8,r()+2],[4+2*r()|0,6+4*r()|0,0,1,1+2*r()],[6+4*r()|0,10+20*r()|0,2,6,2*r()],[6+(2*r()|0),10+6*r()|0,0,4,3*r()]];p[4]=h.sqrt(1-(r()-1)**2)*d.length|0,[s,c,n,x,m]=d[p[4]],i=1+r()**.5*3|0,y=[],p[2]=r()**.5*8|0,A="dddddd888888555555222222aaaaaaf26b21fbb04099ca3c208b3afcec529b5de5f15bb500bbf900C2A8fee440f1faeea8dadc457b9d1d3557e6394650514ff25f5c247ba070c1b3ffe066541388d90368E4E4E42e294effd4001f20414b3f72119da419647effc857540d6eee4266d9d9d91f271bffd23fe4572e29335ca8c686669bbcf3a712".substr(30*p[2],30).match(/(.{2})/g).map(e=>Number("0x"+e)),b=4*r()|0},M=()=>{let e=l([[[2,1,2],[[0,1],[0,1]],0,R],[[2,1,2],0,[[0,1],[0,1]],w],[[2,1,4],0,0,O],[[2,1,3],0,0,O],[[1,1,6],0,0,O],[[1,2,3],0,[[1,0,1]],F],[[1,1,3],0,0,O],[[2,1,2],0,0,O],[[1,1,1],0,0,O],[[1,2,1],0,0,O]].filter(e=>e[0][2]<s)).slice(0,i),t=l([[[1,4,1],[[0]],0,G],[[1,.5,1],[[0]],0,N]]);d=[...z(s)].map(()=>z(s).fill(0)),D=[...z(s)].map(()=>z(s).fill(0));for(let a=0;a<c;a++){let l,f,i,A=0,g=-9e9,b=0,K=o(e);a>=c-m&&(K=o(t,.7),n=5,x=6,b=1);for(let e=0;e<x;e++){i=JSON.parse(JSON.stringify(K)),i[4]=4*r()+1|0,i[5]=4*r()+1|0,2==p[3]&&(i[4]=i[5]=1),i[6]=4*r()|0,1==p[3]&&(i[6]=0),i[7]=1,i[8]=4*r()|0,i[3]==N&&(i[8]=0);let t=()=>z(9).fill(z(9).fill(1));i[2]=i[2]||t(),i[1]=i[1]||t(),i[9]=[...i[0]];for(let e=0;e<i[8];e++)i[9].reverse(),i[2]=q(i[2]),i[1]=q(i[1]),i[7]=!i[7];if(i[9][0]>s/2){x<U&&x++;continue}i[10]=s%2==0?[i[9][0]/2+(r()*(s/2+1-i[9][0])|0),0,-s/2+i[9][2]/2+(r()*(s+1-i[9][2])|0)]:[i[9][0]/2+(r()*((s-1)/2+1-i[9][0])|0)+.5,0,-s/2+i[9][2]/2+(r()*(s+1-i[9][2])|0)],i[9][0]%2==s%2&&r()<1/(s-i[9][0])&&(i[9][0]%2||i[7])&&(i[10][0]=0);let a=0,o=0,c=[...z(i[9][0])].map((e,t)=>i[10][0]+t-(i[9][0]-1)/2),m=[...z(i[9][2])].map((e,t)=>i[10][2]+t-(i[9][2]-1)/2);for(let e of c)for(let t of m)e>=0?o++:a++;let y=0,u=0,b=0,v=0;for(let e of m)for(let t of c){let r=v%i[9][0],a=k(v/i[9][0]);v++,u=_(u,d[t+s/2-.5][e+s/2-.5]),b=_(b,D[t+s/2-.5][e+s/2-.5]),1==i[2][r][a]&&(y=_(y,d[t+s/2-.5][e+s/2-.5]))}y<b||y>u?x<U&&x++:(l=[0,-h.hypot(i[10][0],i[10][2]),-y,-h.hypot(i[10][0],y-10,i[10][2]),-C(h.hypot(i[10][0],2*y,i[10][2])-s),2*y+i[10][2]][n],(l>g||0==e)&&(g=l,A=y,f=i))}if(f&&(f[10][1]=A+f[0][1]/2,f[10][1])){if(b&&f[10][1]-f[9][1]/2==0)continue;let e=z(f[9][0]).fill().map((e,t)=>f[10][0]+t-(f[9][0]-1)/2),t=z(f[9][2]).fill().map((e,t)=>f[10][2]+t-(f[9][2]-1)/2),r=0;for(let a of t)for(let t of e){let e=r%f[9][0],o=k(r/f[9][0]);r++,d[t+s/2-.5][a+s/2-.5]=A+f[0][1],0==f[1][e][o]&&(d[t+s/2-.5][a+s/2-.5]=-99),D[t+s/2-.5][a+s/2-.5]=A+f[0][1]}y.push(f);for(let e=0;e<f[9][0];e++)for(let t=0;t<f[9][1];t++)for(let r=0;r<f[9][2];r++){let a=f[10][0]-f[9][0]/2+e+5|0,o=f[10][1]-f[9][1]/2+t|0,l=f[10][2]-f[9][2]/2+r+5|0;X[l+10*o][a][0]=X[l+10*o+10][a][1]=255*(y.length+1)/64}for(let e=0;e++<8;){let t=[0,0,0].map((t,r)=>(e>>r&1)-.5);u.push([t[0]*(f[9][0]+2*f[10][0]),t[1]*f[9][1]+f[10][1],t[2]*f[9][2]+f[10][2]])}}}},P=()=>{g=[-99,99,99,-99];let e=(e,t,r)=>[e*H(r)-t*S(r),e*S(r)+t*H(r)];u.forEach(t=>{let[r,a,o]=t;[r,o]=e(r,o,-f),[a,o]=e(a,o,-I),g[2]=E(r,g[2]),g[3]=_(r,g[3]),g[1]=E(a,g[1]),g[0]=_(a,g[0])}),g[4]=g[3]-g[2],g[5]=g[0]-g[1],g[6]=_(g[4]/1.8,g[5]/1.8,1),g[7]=g[2]+g[4]/2,g[8]=g[1]+g[5]/2};J(),M(),P(),console.log(A),u_colors=y.map(e=>[e[4],e[5],e[6]]).flat();let V=Array(64).fill([[0,0,0]]),Y=Array(64).fill([[0,0,0]]),B=Array(64).fill([[0,0,0]]),L=Array(64).fill([[0,0,0]]);y.forEach((e,t)=>{V[t]=[e[10]],Y[t]=[e[0]],B[t]=[[e[8],e[3],0]],L[t]=[[e[4],e[5],e[6]]]}),console.log(p);let Q=h.min(innerWidth,innerHeight)*W,T=document.createElement("canvas");T.style.width=T.style.height=Q/W+"px",Q=E(Q,2048);let Z=T.getContext("webgl",{preserveDrawingBuffer:!0});document.body.appendChild(T);let j=A.slice(3*b,3+3*b);T.style.background=3==p[3]?"#333":`rgb(${j})`,T.width=Q,T.height=Q;let ee=createREGL({gl:Z,extensions:["webgl_draw_buffers","oes_texture_float"]}),te=ee.texture(X),re=ee.texture({data:V,type:"float"}),ae=ee.texture({data:Y,type:"float"}),oe=ee.texture({data:B,type:"float"}),le=ee.texture({data:L,type:"float"}),fe=[1,1].map(()=>ee.framebuffer({color:[ee.texture({type:"float",width:Q,height:Q}),ee.texture({type:"float",width:Q,height:Q})],depth:!1})),ie={frag:`#extension GL_EXT_draw_buffers : require\nprecision highp float;@A 60@B 3.1415@C smoothstep@D vec3@E float@F normalize@G length@H vec2@rnd(x) fract(54321.987 * sin(987.12345 * x + .1))@R(a) mat2(cos(a),-sin(a),sin(a),cos(a))@I .0001\nE J(E K){→sqrt(abs(K)*abs(K)+5e-5);}E L(E M,E N){→(M+N+J(M-N))*.5;}D ps[A];D ss[A];H rt[A];ivec3 cs[A];uniform sampler2D sampler_ps;uniform sampler2D sampler_ss;uniform sampler2D sampler_rt;uniform sampler2D sampler_cs;uniform D pt[5];uniform E tk;uniform E rs;uniform sampler2D tex3d;uniform sampler2D texCol;uniform sampler2D texNorm;ivec3 O=ivec3(0);E P;E Q=30.;ivec2 R;E S=.01,T=.015,U;E V=.015;int W;E X(D K,D Y){H Z=H(G(K.xz),K.y-clamp(K.y,I,Y.x));Z.x-=clamp(Z.x,Y.z,Y.y);→G(Z)-I;}E a(D K,E W){D b=(texture2D(sampler_ps,vec2(.5,(W)/64.)).rgb);D c=(texture2D(sampler_rt,vec2(.5,(W)/64.)).rgb);D d=(texture2D(sampler_ss,vec2(.5,(W)/64.)).rgb);ivec3 e=ivec3(texture2D(sampler_cs,vec2(.5,(W)/64.)).rgb);K.x=abs(K.x);D f=K;f-=b;f.xz*=R(c.x*B/2.);D Y=d-2.*(S+T);U=G(f-clamp(f,-Y/2.,Y/2.))-S*1.4;if(c.y==5.){E g=G(f.zy)-.5;E h=max(abs(f.z)-.5,abs(f.y+d.y/2.)-1.);E i=min(g,h);U=max(U,-i);}if(c.y==6.){E j=X(f+D(0,1.6-S*3.,0),D(3.55,.15,0));E k=X(f+D(0,2.-S*2.,0),D(.4-S*2.,.45,0));U=min(j,k);}if(c.y!=6.){D l=f;H m=d.xz;l.xz+=(m-1.)/2.;l.xz=l.xz-clamp(floor(l.xz+.5),H(0.),m-1.);l.y-=d.y/2.+.02;E n=X(l,D(.24,.28,mix(I,.18,${p[1]}.)));U=min(n,U);}if(f.z<.01&&(c.y==3.||c.y==4.)){U=L(U,dot(f,D(0,.78*(7.-2.*c.y),-.624))-.39);}if(c.y==7.){E o=X(f+D(0,.25-S*2.,0),D(.4-S*2.,.45,0));U=o;if(o<I){O.z=9;}}if(U<I){if(O.z==9)O=ivec3(e.xy,9);else O=e;}→U;}D p(D K,E W){H q=H(.01,0.);→F(D(a(K+q.xyy,W)-a(K-q.xyy,W),a(K+q.yxy,W)-a(K-q.yxy,W),a(K+q.yyx,W)-a(K-q.yyx,W)));}void r(vec3 K){R*=0;K.xz+=fract(float(${s/2}));K.x=abs(K.x);K.zx-=fract(float(${s/2}));K.x+=5.;K.z+=5.;K=floor(K+vec3(0,0,0));if(K.y<0.)return;vec3 s=vec3(10,1000/10,10);if(fract(K/s)!=K/s)return;vec2 t,u=vec2(s.x,s.y*s.z);t.x=K.x;t.y=K.z+K.y*10.;vec2 v=(t+.5)/u;R=ivec2(texture2D(tex3d,v).rg*64.);return;}void main(){D w=D(0),x,y;H z=(gl_FragCoord.xy*2.-rs)/rs;E AA;P=0.;E q=1e9,AB=9.,AC;AA=0.;E AD=floor(tk/2.);E AE=mod(tk,2.);H AF=H(AE/2.,AD/4.)-.5;if(mod(AD,2.)==0.)AF.x+=.25;z+=AF*2./rs;D K,AG=D(z*E(${g[6]})+H(${g[7]},${g[8]}),-Q),AH=D(0,0,1);bool AI=false;AG.yz*=R(${I});AH.yz*=R(${I});AG.xz*=R(${f});AH.xz*=R(${f});float AJ=0.;for(float AK=0.;AK<200.;AK++){AJ++;K=AG+AH*AA;K.xz-=fract(float(${s/2}));vec3 AL=(step(0.,AH)-fract(K))/AH;float AM;AM=min(min(AL.x,AL.y),AL.z)+1e-4;bool AN=false;r(K);if(length(H(R))>0.&&K.y>=0.){float AO=0.;for(float AP=0.;AP<200.;AP++){AJ++;K=AG+AH*(AA+AO);float AQ=a(K,float(R.x-1));float AR=a(K,float(R.y-1));if(AQ<AR){q=AQ;W=R.x-1;}else{q=AR;W=R.y-1;}AO+=q;if(AB<q&&q<V){AI=true;AN=true;AM=AO;break;}AB=q;if(q<I||AJ>200.||AA>Q*2.){AN=true;AM=AO;break;}if(AO>AM){break;}}}else{O=ivec3(0,0,-1);}AA+=AM;if(AN==true||AJ>200.)break;}D AS;if(!AI){D AT,AU;for(int AC=0;AC<5;AC++){if(O[0]==AC)AT=pt[AC];if(O[1]==AC)AU=pt[AC];}D AV=AT;if(O.z==1)if(sin(K.y*B*3.)>0.)AV=AU;if(O.z==2)if(sin((K.x+fract(ps[0].x-ss[0].x/2.))*B*2.*1.5)>0.)AV=AU;if(${p[3]}==3)AV=sin((G(K)/max(E(${s}),E(${p[8]}))-D(0,.3,.6))*6.28)*.5+.5;x=p(K,float(W));if(O.z==9){AV=D(0);D AW=K+fract(${s}./2.);AW=fract(AW)-.5;AV+=step(.3,G(AW.xz));AV+=step(-.1,-G(AW.xz+.1));}if(O.z==-1){AS=D(${j})/255.;if(G(AS)>.4){AS*=C(5.,0.,G(z+H(${p[6]},-1)));}if(${p[3]}==3){AS=D(.2);}if(sin(G(pow(abs(z),H(${p[5]})))*32.)>0.)AS*=.95;}else{AS=AV;AS*=min(1.5,55./AJ)*.2+.8;AS*=dot(x,F(D(-.5,.5,0)))*.2+1.;if(O.z!=9)AS+=pow(abs(dot(x,F(D(0,1.5,.5)))),40.);}}if(tk>1.){D p=(texture2D(texNorm,gl_FragCoord.xy/rs).rgb);E a=texture2D(texNorm,gl_FragCoord.xy/rs).a;a=min(a,Q*2.);vec3 AX=p;vec3 AY=normalize(cross(vec3(1,2,3),AX));vec3 AZ=cross(AX,AY);for(float AK=0.;AK<20.;AK++){D Aa=D(0,0,0);Aa+=(rnd(AK+tk+dot(z*99.,vec2(.319,.137)))*2.-1.)*AY;Aa+=(rnd(AK+tk+dot(z*99.,vec2(.319,.137))+.1)*2.-1.)*AZ;Aa+=(rnd(AK+tk+dot(z*99.,vec2(.319,.137))+.2))*AX;Aa=F(Aa)*pow(rnd(AK+dot(mod(gl_FragCoord.xy,10.1*B),vec2(.319,.137))),2.);vec3 Ab=D(dot(Aa,vec3(1,0,0)),dot(Aa,vec3(0,1,0)),dot(Aa,D(0,0,1)));if(a-Ab.z*1.1>texture2D(texNorm,gl_FragCoord.xy/rs+.15*Ab.xy).a){AS*=.97;}}}gl_FragData[0]=mix(texture2D(texCol,gl_FragCoord.xy/rs),AS.rgbb,1./tk);x.xz*=-sign(${p[0]-.5})*R(${f});x.xy*=R(atan(sqrt(2.)));x=x.zyx;x.xz*=-1.;gl_FragData[1]=mix(texture2D(texNorm,gl_FragCoord.xy/rs),vec4(x.rgb,AA),1./tk);}`.replace(/@/g,"\n#define ").replace(/→/g,"return "),vert:"attribute vec2 g;void main(){gl_Position=vec4(g,0,1);}",attributes:{g:[[1,1],[1,-4],[-4,1]]},uniforms:{rs:ee.prop("r"),pt:A.map(e=>e/255),tex3d:te,tk:({tick:e})=>e,texCol:({tick:e})=>fe[e%2].color[0],texNorm:({tick:e})=>fe[e%2].color[1],sampler_ps:re,sampler_ss:ae,sampler_rt:oe,sampler_cs:le},depth:{enable:!1},framebuffer:({tick:e})=>fe[(e+1)%2],count:3},Ae=ee({frag:"#extension GL_EXT_draw_buffers : require\n                precision highp float;\n                uniform float rs;\n                uniform sampler2D texCol;\n                // uniform sampler2D texNorm;        \n                void main() {\n                    gl_FragData[0] = texture2D(texCol,gl_FragCoord.xy/rs);\n                    gl_FragData[0].a = 1.;\n                }",vert:"attribute vec2 g;void main(){gl_Position=vec4(g,0,1);}",attributes:{g:[[1,1],[1,-4],[-4,1]]},uniforms:{rs:ee.prop("r"),texCol:({tick:e})=>fe[(e+1)%2].color[0]},depth:{enable:!1},count:3}),se=ee(ie),ce=1+(Q/v|0),ne=new Date,xe=1,me=1;$&&(me=Number($));let pe=1;v=256;let de=ee.frame(({tick:e})=>{se({r:Q}),Ae({r:Q}),e>8&&(document.title="👾",de.cancel())});'tx shvembldr piter stranger'